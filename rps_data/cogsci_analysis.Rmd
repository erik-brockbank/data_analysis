---
title: "RPS analysis - Cogsci"
output: html_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(message = FALSE)

library(knitr)
library(tidyverse)
library(viridis)
```


```{r globals}
# file containing full dataset for all rounds
DATA_FILE = "rps_data.csv"
# file containing free response data by participant
FREE_RESP_FILE = "rps_data_freeResp.csv"
# file containing slider Likert data by participant
SLIDER_FILE = "rps_data_sliderData.csv"

```


```{r processing_fxns}
# Read in and process main data file with game results
read_raw_data = function(filename) {
  # read aggregate data
  data = read_csv(filename)
  # remove participants that didn't complete all 300 rounds
  incomplete = data %>%
    group_by(player_id) %>%
    summarize(rounds = max(round_index)) %>%
    filter(rounds < 300) %>%
    select(player_id)
  data = data %>%
    filter(!(player_id %in% incomplete$player_id))
  
  return(data)
}

# Read in and process free response and Likert data
read_resp_data = function(filename, raw_data) {
  resp_data = read_csv(filename)
  # Remove any participants not in raw_data
  resp_data = resp_data %>%
    filter(player_id %in% unique(raw_data$player_id))
  return(resp_data)
}

```




# Introduction #
Human conflict and coordination is in many ways defined by our ability to reason about and predict the behavior of others in order to make plans of our own. What kind of cognitive processes underlie this unique ability? In this study, we investigate people's ability to adapt to the behavior of others in an adversarial setting in the simple game of Rock, Paper, Scissors (or Roshambo). 

# Methods #

## Participants ##
Participants were 128 college students who received course credit for their participation. Participants were assigned to stable dyads during the experiment (except in two cases where odd numbers precluded dyad formation); of 62 dyads, four were removed due to technical issues which prevented their completion of all 300 rounds, leaving 58 dyads with complete data. 


# Results #
In repeated games of Rock, Paper, Scissors, the Nash Equilibrium strategy is random play: this is the only way in which a player can prevent her opponent from exploiting patterns in her own moves. However, given the opportunity for exploiting any non-random behavior, an RPS player is incentivized to look for any patterns or dependencies in her opponent's moves which might indicate non-random behavior and thus give her an edge in predicting her opponent's next move. Indeed, prior research has shown that "subjective randomness", or people's impressions of what constitutes a random sequence, consitutes only a subset of what might be generated by truly random behavior [citation]. In other words, people are not very good at being random, suggesting that a player who pays attention to her opponent's moves may have a great deal to gain over the course of many rounds of the game. 

Of course it's entirely possible that people do not detect such dependencies in their opponent's moves (or conversely, that dependencies people exhibit are more complex or noisy than any opponent could reasonably be expected to detect). Our analysis therefore focuses on two primary questions:

1.) Do people show evidence of exploiting patterns or dependencies in their opponent's move selections?

2.) Is their behavior maximally exploitative or are they leaving "points" on the table?

The first question asks whether people's behavior in RPS exhibits evidence of anything other than random play or behavior which otherwise fails to detect and exploit any dependencies in their opponent's move choices. In the results below, we find there is indeed evidence of participants exploiting their opponents beyond what might be expected by random play. The second question deals with how exploitable people's moves tend to be; does the exploitative behavior we see in the first analysis reflect optimal reasoning about opponent behavior or are people leaving points on the table? And if so, what might explain their failure to be maximally exploitative? [SUMMARIZE FINDINGS HERE].


```{r data_processing}
raw_data = read_raw_data(DATA_FILE)
fr_data = read_resp_data(FREE_RESP_FILE, raw_data)
slider_data = read_resp_data(SLIDER_FILE, raw_data)

```


## Are people exploiting? ##

```{r win_distribution}

```








